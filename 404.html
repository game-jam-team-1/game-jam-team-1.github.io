<!DOCTYPE html>
<html>

<head>

<style>
    * {
        font-family: sans-serif;
        color: white;
        text-align: center;
    }
    body {
        background-color: black;
    }
    button {
        color: black;
    }
    #gamescreen {
        width: 100%;
        height: 500px;
        max-height: 80%;
        border: 1px solid white;
    }
    #player {
        background-color: red;
        position: relative;
        width: 2.5%;
        height: 5%;
        left: 2.5%;
    }
    .obstacle {
        background-color: blue;
        position: relative;
        bottom: 0;
    }
</style>

<script defer>

let gameRunning = false;
let score = 0;
let counter = 0;

const player = {
    element: document.getElementById("player"),
    height: 0,
    jumpState: "up",
    jump() {
        if (height == 0) {
            if (height >= 20) {
                jumpState = "down";
            } else {
                jumpState = "up";
            }
        } else {
            return;
        }
    }
};
player.element.style.bottom = player.height;

let startListener = document.getElementById("startbutton").addEventListener("click", function (e) {
    gameRunning = true;
});
let jumpListener = document.getElementById("jumpbutton").addEventListener("click", player.jump());

class Obstacle {
    height;
    width;
    position;
    elementDefault = document.createElement("div");
    newElement;

    update() {
        this.newElement.style.height = this.height * 5 + "%";
        this.newElement.style.width = this.width * 2.5 + "%";
        this.newElement.style.left = this.position / 2 + "%";
    }

    eliminate() {
        this.newElement.remove();
    }

    move() {
        this.position -= 1;
        this.update();
    }

    constructor() {
        this.height = Math.floor(Math.random() * 2);
        this.width = Math.floor(Math.random() * 3);
        this.position = 200;

        this.elementDefault.className("obstacle");
        this.newElement = document.getElementById("gamescreen").appendChild(this.elementDefault);
        this.update();
    }
}

let obstacles = [new Obstacle()];

while (gameRunning) {
    if (counter == 0) {
        obstacles[obstacles.length] = new Obstacle();
        counter = 200 * Math.floor(Math.random() * 5);
    }
    counter -= 1;

    for (i = 0; i < obstacles.length; i++) {
        obstacles[i].move();
        if (obstacles[i].position < 0 - obstacles[i].width * 5) {
            obstacles.shift().eliminate();
        }

    }

}

</script>

</head>

<body>

<h1>404</h1>
<h2>Page not found</h2>

<button id="startbutton">Start</button>
<button id="jumpbutton">Jump</button>
<span id="scorespan"></span>
<div id="gamescreen">
    <div id="player"></div>
</div>

</body>

</html>